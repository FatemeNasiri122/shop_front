import{j as e,r as b,a as N,e as E,f as $,L as q}from"./index-kG6OA0Lj.js";import{r as R,i as B}from"./createSvgIcon-1l7Qou-N.js";import{P as W}from"./Product-ar523TUx.js";import{E as w}from"./EmptyState-R1ImE06m.js";import{L as z}from"./LoadingState-JuiAPiPX.js";import{a as G}from"./product-r1lOjv0_.js";import{u as D}from"./useQuery-dWs5bJIz.js";import{B as K}from"./Breadcrumbs-2mmZjkxV.js";import{F as i}from"./FormControl-HjXt7Vmi.js";import{I as m,S as p}from"./Select-t3SlGVAR.js";import{F as h}from"./FormGroup-bDnzN-0v.js";import{F as _}from"./FormControlLabel-Szg5Ek2V.js";import{C as u}from"./Checkbox-bbhnfrQX.js";import{B as I}from"./Button-Oro4haYr.js";import{G as v}from"./Grid-9HnAf3d4.js";import{P as O}from"./Pagination-R0Ep5AJE.js";import"./createSvgIcon-YEOVVOch.js";import"./useId-q3vM3uvD.js";import"./useControlled-wiAP_r8o.js";import"./EmptyState.module-2GihuqGv.js";import"./CircularProgress-5_IFDHuH.js";import"./ButtonBase-BwOv2JR7.js";import"./api--0IjzKCk.js";import"./extendSxProp-WqtJkzWi.js";import"./useSlotProps-emH9y0qt.js";import"./Paper-uuAsmGUK.js";const Q="_breadCrumLink_rrd6w_43",A="_breadCrumText_rrd6w_48",H="_container_rrd6w_53",J="_goldLine_rrd6w_59",U="_title_rrd6w_66",V="_leftTitle_rrd6w_74",X="_error_rrd6w_81",Y="_modalContainer_rrd6w_87",Z="_modalContent_rrd6w_95",ee="_titleModal_rrd6w_105",re="_btnModal_rrd6w_108",te="_btn_rrd6w_108",ne="_active_rrd6w_135",se="_paginationContainer_rrd6w_140",ae="_btnContainer_rrd6w_147",ce="_counterContainer_rrd6w_153",oe="_counter_rrd6w_153",le="_number_rrd6w_171",de="_inputLabel_rrd6w_179",ie="_link_rrd6w_185",me="_categoryContainer_rrd6w_215",pe="_category_rrd6w_215",he="_categoryImgContainer_rrd6w_225",_e="_notFoundText_rrd6w_229",ue="_center_rrd6w_234",fe="_offer_rrd6w_240",xe="_stepCounter_rrd6w_255",ke="_signupContainer_rrd6w_261",be="_selectsContainer_rrd6w_285",ge="_clear_rrd6w_293",f={breadCrumLink:Q,breadCrumText:A,container:H,goldLine:J,title:U,leftTitle:V,error:X,modalContainer:Y,modalContent:Z,titleModal:ee,btnModal:re,btn:te,active:ne,paginationContainer:se,btnContainer:ae,counterContainer:ce,counter:oe,number:le,inputLabel:de,link:ie,"progress-container":"_progress-container_rrd6w_198",categoryContainer:me,category:pe,categoryImgContainer:he,notFoundText:_e,center:ue,offer:fe,"offer-header":"_offer-header_rrd6w_249",stepCounter:xe,signupContainer:ke,selectsContainer:be,clear:ge};var y={},ye=B;Object.defineProperty(y,"__esModule",{value:!0});var g=y.default=void 0,Ce=ye(R()),je=e;g=y.default=(0,Ce.default)((0,je.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const T={filterItems:[{id:1,type:"category",items:[{name:"cloth",checked:!1},{name:"shoes",checked:!1},{name:"bags",checked:!1}]},{id:2,type:"color",items:[{name:"red",checked:!1},{name:"black and white",checked:!1},{name:"green",checked:!1},{name:"blue",checked:!1}]},{id:3,type:"size",items:[{name:"xs",checked:!1},{name:"s",checked:!1},{name:"m",checked:!1},{name:"l",checked:!1},{name:"xl",checked:!1},{name:"2xl",checked:!1},{name:"3xl",checked:!1},{name:"4xl",checked:!1},{name:"5xl",checked:!1}]},{id:4,type:"sortby",items:[{name:"cheapest",checked:!1},{name:"most expensive",checked:!1}]}],selectedItems:[],category:"",sortby:""},we=(c,t)=>{switch(t.type){case"check":return{...c,filterItems:c.filterItems.map(n=>n.id===t.id?{...n,items:n.items.map(a=>a.name===t.name?{...a,checked:!a.checked}:a)}:n),selectedItems:t.checked?[...c.selectedItems,`&${t.selectType}=${t.name}`]:c.selectedItems.filter(n=>n.split("=")[1]!==t.name)};case"category":return{...c,filterItems:c.filterItems.map(n=>n.id===t.id?{...n,items:n.items.map(a=>a.name===t.name?{...a,checked:t.checked}:{...a,checked:!1})}:n),category:t.checked?`&${t.selectType}=${t.name}`:""};case"sortby":return{...c,filterItems:c.filterItems.map(n=>n.id===t.id?{...n,items:n.items.map(a=>a.name===t.name?{...a,checked:t.checked}:{...a,checked:!1})}:n),sortby:t.checked?`&${t.selectType}=${t.name}`:""};case"clear":return T;default:return c}},Ye=()=>{var C,j;const[c,t]=b.useReducer(we,T),{filterItems:n,selectedItems:a,category:x,sortby:k}=c;N();const[l,L]=b.useState(1),{type:d}=E(),[Ie,F]=$(),{isLoading:S,isError:P,data:o}=D({queryKey:["products",c,l,d],queryFn:async()=>G(d,l,a,x,k)});b.useMemo(()=>{F(a.join(""))},[d,l,a,x,k]);const M=(r,s)=>{r.type==="sortby"||r.type==="category"?t({type:r.type,id:r.id,name:s.name,checked:!1}):t({type:"check",id:r.id,name:s.name,checked:!1})};return S?e.jsx(z,{}):P?e.jsx(w,{data:"products"}):e.jsxs(e.Fragment,{children:[e.jsxs(K,{"aria-label":"breadcrumb",children:[e.jsx(q,{to:"/",className:"breadCrumLink",children:"home"}),e.jsx("span",{className:"breadCrumText",children:d})]}),e.jsx("div",{className:f.category,children:e.jsxs("div",{className:f.selectsContainer,children:[e.jsxs(i,{fullWidth:!0,children:[e.jsx(m,{id:"demo-simple-select-label",children:"categoty"}),e.jsx(p,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"categoty",children:n[0].items.map(r=>e.jsx(h,{sx:{mx:2},children:e.jsx(_,{control:e.jsx(u,{checked:r.checked}),label:r.name,onChange:s=>{console.log(s.target.checked),t({type:"category",id:1,name:r.name,checked:s.target.checked,selectType:"category"})}})},r.name))})]}),e.jsxs(i,{fullWidth:!0,children:[e.jsx(m,{id:"demo-simple-select-label",children:"color"}),e.jsx(p,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"color",children:n[1].items.map(r=>e.jsx(h,{sx:{mx:2},children:e.jsx(_,{control:e.jsx(u,{checked:r.checked}),label:r.name,onChange:s=>{t({type:"check",id:2,name:r.name,checked:s.target.checked,selectType:"color"})}})},r.name))})]}),e.jsxs(i,{fullWidth:!0,children:[e.jsx(m,{id:"demo-simple-select-label",children:"size"}),e.jsx(p,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"size",children:n[2].items.map(r=>e.jsx(h,{sx:{mx:2},children:e.jsx(_,{control:e.jsx(u,{checked:r.checked}),label:r.name,onChange:s=>{t({type:"check",id:3,name:r.name,checked:s.target.checked,selectType:"size"})}})},r.name))})]}),e.jsxs(i,{fullWidth:!0,children:[e.jsx(m,{id:"demo-simple-select-label",children:"sort by"}),e.jsx(p,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"sort by",children:n[3].items.map(r=>e.jsx(h,{sx:{mx:2},children:e.jsx(_,{control:e.jsx(u,{checked:r.checked}),label:r.name,onChange:s=>{t({type:"sortby",id:4,name:r.name,checked:s.target.checked,selectType:"sortby"})}})},r.name))})]})]})}),(a.length>0||x!==""||k!=="")&&e.jsxs("div",{className:f.clear,children:[e.jsx("div",{children:n.map(r=>r.items.map(s=>s.checked&&e.jsx(I,{sx:{margin:"8px",fontSize:"10px"},variant:"outlined",onClick:()=>{M(r,s)},endIcon:e.jsx(g,{}),children:s.name},s.name)))}),e.jsx(I,{sx:{whiteSpace:"nowrap",alignSelf:"start",margin:"8px"},variant:"contained",color:"error",endIcon:e.jsx(g,{}),onClick:()=>t({type:"clear",id:0,name:""}),children:"clear all"})]}),((C=o==null?void 0:o.products)==null?void 0:C.length)!==0?e.jsxs(e.Fragment,{children:[e.jsx(v,{container:!0,spacing:2,marginTop:"10px",children:(j=o==null?void 0:o.products)==null?void 0:j.map(r=>e.jsx(v,{item:!0,xs:12,sm:6,md:3,children:e.jsx(W,{data:r})},r==null?void 0:r._id))}),e.jsx("div",{className:f.paginationContainer,children:e.jsx(O,{count:Math.ceil((o==null?void 0:o.totalItems)/4),shape:"rounded",page:l,color:"primary",onChange:(r,s)=>L(s)})})]}):e.jsx(w,{data:"products"})]})};export{Ye as default};
